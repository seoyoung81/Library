# ğŸ“ ì•„ì´í…œ 15 ë™ì  ë°ì´í„°ì— ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜ ì‚¬ìš©í•˜ê¸°

ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ì¥ì  ì¤‘ í•˜ë‚˜ëŠ” ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ë¬¸ë²•ì´ ê°„ë‹¨í•˜ë‹¤ëŠ” ê²ƒì´ë‹¤.

```typescript
const rocket = {
  name: 'Falcon 9',
  variant: 'Block 5',
  thrust: '7,607 kN',
};
```

ìë°”ìŠ¤í¬ë¦½íŠ¸ ê°ì²´ëŠ” ë¬¸ìì—´ í‚¤ë¥¼ íƒ€ì…ì˜ ê°’ì— ê´€ê³„ì—†ì´ ë§¤í•‘í•œë‹¤. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” íƒ€ì…ì— 'ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜'ë¥¼ ëª…ì‹œí•˜ì—¬ ìœ ì—°í•˜ê²Œ ë§¤í•‘ì„ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.

```typescript
type Rocket = {[property: string]: string};
const rocket: Rocket = {
  name: 'Falcon 9',
  variant: 'v1.0',
  thrust: '4,940 kN',
};  // OK
```

`{[property: string]: string}` ì´ ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜ì´ë©°, ë‹¤ìŒ ì„¸ ê°€ì§€ ì˜ë¯¸ë¥¼ ë‹´ê³  ìˆë‹¤.

1. í‚¤ì˜ ì´ë¦„: í‚¤ì˜ ìœ„ì¹˜ë§Œ í‘œì‹œí•˜ëŠ” ìš©ë„. íƒ€ì… ì²´ì»¤ì—ì„œëŠ” ì‚¬ìš©í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ë¬´ì‹œí•  ìˆ˜ ìˆëŠ” ì°¸ê³  ì •ë³´ì´ë‹¤.
2. í‚¤ì˜ íƒ€ì…: `string`ì´ë‚˜ `number` ë˜ëŠ” `symbol`ì˜ ì¡°í•©ì´ì–´ì•¼ í•˜ì§€ë§Œ, ë³´í†µì€ `string`ì„ ì‚¬ìš©í•œë‹¤.
3. ê°’ì˜ íƒ€ì…: ì–´ë–¤ ê²ƒì´ë“  ë  ìˆ˜ ìˆë‹¤.

íƒ€ì… ì²´í¬ê°€ ìˆ˜í–‰ë˜ë©´ ë„¤ ê°€ì§€ ë‹¨ì ì´ ë“œëŸ¬ë‚œë‹¤.

1. ì˜ëª»ëœ í‚¤ë¥¼ í¬í•¨í•´ ëª¨ë“  í‚¤ë¥¼ í—ˆìš©í•œë‹¤. `name` ëŒ€ì‹  `Name`ì„ ì‘ì„±í•´ë„ ìœ íš¨í•œ `Rocket` íƒ€ì…ì´ ëœë‹¤.
2. íŠ¹ì • í‚¤ê°€ í•„ìš”í•˜ì§€ ì•Šë‹¤. `{}` ë„ ìœ íš¨í•œ `Rocket` íƒ€ì…ì´ë‹¤.
3. í‚¤ë§ˆë‹¤ ë‹¤ë¥¸ íƒ€ì…ì„ ê°€ì§ˆ ìˆ˜ ì—†ë‹¤. `thrust`ëŠ” `string`ì´ ì•„ë‹ˆë¼ `number`ì—¬ì•¼ í•  ìˆ˜ë„ ìˆë‹¤.
4. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì–¸ì–´ ì„œë¹„ìŠ¤ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ê²½ìš°ì— ë„ì›€ì´ ë˜ì§€ ëª»í•œë‹¤. `name:` ì„ ì…ë ¥í•  ë•Œ, í‚¤ëŠ” ë¬´ì—‡ì´ë“  ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— ìë™ ì™„ì„± ê¸°ëŠ¥ì´ ë™ì‘í•˜ì§€ ì•ŠëŠ”ë‹¤.

**â­ï¸ ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜ëŠ” ë¶€ì •í™•í•˜ë¯€ë¡œ Rocketì„ ì¸í„°í˜ì´ìŠ¤ë¡œ ë§Œë“¤ì–´ë³´ì.**

```typescript
interface Rocket {
  name: string;
  variant: string;
  thrust_kN: number;
}
const falconHeavy: Rocket = {
  name: 'Falcon Heavy',
  variant: 'v1',
  thrust_kN: 15200,
};
```

`thrus_kN`ì€ `number` íƒ€ì…ì´ë©°, íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ëª¨ë“  í•„ìˆ˜ í•„ë“œê°€ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•œë‹¤. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì œê³µí•˜ëŠ” ì–¸ì–´ ì„œë¹„ìŠ¤ë¥¼ ëª¨ë‘ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ (ìë™ì™„ì„±, ì •ì˜ë¡œ ì´ë™, ì´ë¦„ ë°”ê¾¸ê¸° ë“±)

## ğŸ“ ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜

#### ğŸ”— ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜ëŠ” ë™ì  ë°ì´í„°ë¥¼ í‘œí˜„í•  ë•Œ ì‚¬ìš©í•œë‹¤.

CSV íŒŒì¼ì²˜ëŸ¼ í—¤ë” í–‰ì— ì—´ ì´ë¦„ì´ ìˆê³ , ë°ì´í„° í–‰ì„ ì—´ ì´ë¦„ê³¼ ê°’ìœ¼ë¡œ ë§¤í•‘í•˜ëŠ” ê°ì²´ë¡œ ë‚˜íƒ€ë‚´ê³  ì‹¶ì€ ê²½ìš°ì´ë‹¤.

```typescript
function parseCSV(input: string): {[columnName: string]: string}[] {
  const lines = input.split('\n');
  const [headerLine, ...rows] = lines;
  const headers = headerLine.split(',');
  return rows.map(rowStr => {
    const row: {[columnName: string]: string} = {};
    rowStr.split(',').forEach((cell, i) => {
      row[headers[i]] = cell;
    });
    return row;
  });
}
```

ì¼ë°˜ì ì¸ ìƒí™©ì—ì„œ ì—´ ì´ë¦„ì´ ë¬´ì—‡ì¸ì§€ ë¯¸ë¦¬ ì•Œ ë°©ë²•ì´ ì—†ìœ¼ë¯€ë¡œ ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜ë¥¼ ì‚¬ìš©í•œë‹¤. íŠ¹ì •í•œ ìƒí™©ì— `parseCSV`ê°€ ì‚¬ìš©ëœë‹¤ë©´, ë¯¸ë¦¬ ì„ ì–¸í•´ ë‘” íƒ€ì…ìœ¼ë¡œ ë‹¨ì–¸ë¬¸ì„ ì‚¬ìš©í•œë‹¤.

```typescript
interface ProductRow {
  productId: string;
  name: string;
  price: string;
}

declare let csvData: string;
const products = parseCSV(csvData) as unknown[] as ProductRow[];
```

ì„ ì–¸í•´ ë‘” ì—´ë“¤ì´ ëŸ°íƒ€ì„ì— ì‹¤ì œë¡œ ì¼ì¹˜í•˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤. ì´ë¥¼ ìœ„í•´ ê°’ íƒ€ì…ì— `undefiend`ë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.

```typescript
function safeParseCSV(
  input: string
): {[columName: string]: string | undefined}[] {
  return parseCSV(input);
}
```

ëª¨ë“  ì—´ì˜ `Undefined` ì—¬ë¶€ë¥¼ ì²´í¬í•´ì•¼ í•œë‹¤.

```typescript
const rows = parseCSVMap(csvData);
const prices: {[product: string]: number} = {};
for (const row of rows) {
  prices[row.productId] = Number(row.price);
}

const safeRows = safeParseCSV(csvData);
for (const row of safeRows) {
  prices[row.productId] = Number(row.price);
    // 'undefined' í˜•ì‹ì„ ì¸ë±ìŠ¤ í˜•ì‹ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.
}
```

ì²´í¬ë¥¼ ì¶”ê°€í•´ì•¼ í•˜ë¯€ë¡œ `undefined`ë¥¼ íƒ€ì…ì— ì¶”ê°€í• ì§€ëŠ” ìƒí™©ì— ë§ê²Œ íŒë‹¨í•´ì•¼ í•œë‹¤.

#### ğŸ”—  ì—°ê´€ ë°°ì—´ì˜ ê²½ìš°, ê°ì²´ì— ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ëŒ€ì‹  Map íƒ€ì…ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ê³ ë ¤í•  ìˆ˜ ìˆë‹¤. ì´ëŠ” í”„ë¡œí† íƒ€ì… ì²´ì¸ê³¼ ê´€ë ¨ëœ ìœ ëª…í•œ ë¬¸ì œë¥¼ ìš°íšŒí•œë‹¤. (ì•„ì´í…œ 58)

#### ğŸ”— ì–´ë– í•œ íƒ€ì…ì— ê°€ëŠ¥í•œ í•„ë“œê°€ ì œí•œë˜ì–´ ìˆëŠ” ê²½ìš°ë¼ë©´ ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜ë¡œ ëª¨ë¸ë§ í•˜ì§€ ë§ì•„ì•¼ í•œë‹¤.

ë°ì´í„°ì— A, B, C, D ê°™ì€ í‚¤ê°€ ìˆì§€ë§Œ, ì–¼ë§ˆë‚˜ ë§ì´ ìˆëŠ”ì§€ ëª¨ë¥¸ë‹¤ë©´ ì„ íƒì  í•„ë“œ ë˜ëŠ” ìœ ë‹ˆì˜¨ íƒ€ì…ìœ¼ë¡œ ëª¨ë¸ë§ í•˜ë©´ ëœë‹¤.

```typescript
interface Row1 { [column: string]: number }  // Too broad
interface Row2 { a: number; b?: number; c?: number; d?: number }  // Better
type Row3 =
    | { a: number; }
    | { a: number; b: number; }
    | { a: number; b: number; c: number;  }
    | { a: number; b: number; c: number; d: number };  // Also better ê°€ì¥ ì •í™•í•˜ì§€ë§Œ ì‚¬ìš©í•˜ê¸° ë²ˆê±°ë¡œì›€
```

`string` íƒ€ì…ì´ ë„ˆë¬´ ê´‘ë²”ìœ„í•´ì„œ ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ë° ë¬¸ì œê°€ ìˆë‹¤ë©´, ë‘ ê°€ì§€ ëŒ€ì•ˆì´ ìˆë‹¤.

1. `Record` ì‚¬ìš©í•˜ê¸°

`Record`ëŠ” í‚¤ íƒ€ì…ì— ìœ ì—°ì„±ì„ ì œê³µí•˜ëŠ” ì œë„ˆë¦­ íƒ€ì…ì´ë‹¤. íŠ¹íˆ, `string`ì˜ ë¶€ë¶„ ì§‘í•©ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```typescript
type Vec3D = Record<'x' | 'y' | 'z', number>;
//   ^? type Vec3D = {
//        x: number;
//        y: number;
//        z: number;
//      }
```

2. ë§¤í•‘ëœ íƒ€ì… ì‚¬ìš©í•˜ê¸°

ë§¤í•‘ëœ íƒ€ì…ì€ í‚¤ë§ˆë‹¤ ë³„ë„ì˜ íƒ€ì…ì„ ì‚¬ìš©í•˜ê²Œ í•´ì¤€ë‹¤.

```typescript
type Vec3D = {[k in 'x' | 'y' | 'z']: number};
// Type Vec3D = {
//    x: number;
//    y: number;
//    z: number;
// }

type ABC = {[k in 'a' | 'b' | 'c']: k extends 'b' ? string : number};
// Type ABC = {
//    a: number;
//    b: string;
//    c: number;
// }
```

## ğŸ“ìš”ì•½

* ëŸ°íƒ€ì„ ë•Œê¹Œì§€ ê°ì²´ì˜ ì†ì„±ì„ ì•Œ ìˆ˜ ì—†ì„ ê²½ìš°ì—ë§Œ ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜ë¥¼ ì‚¬ìš©í•˜ì.
* ì•ˆì „í•œ ì ‘ê·¼ì„ ìœ„í•´ ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜ì˜ ê°’ íƒ€ì…ì— undefinedë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒì„ ê³ ë ¤í•´ì•¼ í•œë‹¤.
* ê°€ëŠ¥í•˜ë‹¤ë©´ ì¸í„°í˜ì´ìŠ¤, Record, ë§¤í•‘ëœ íƒ€ì… ê°™ì€ ì¸ë±ìŠ¤ ì‹œê·¸ë‹ˆì²˜ë³´ë‹¤ ì •í™•í•œ íƒ€ì…ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.
