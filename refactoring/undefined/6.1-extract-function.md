# âœï¸ 6.1 í•¨ìˆ˜ ì¶”ì¶œí•˜ê¸° (Extract Function)

â†”ï¸ í•¨ìˆ˜ ì¸ë¼ì¸í•˜ê¸°

```javascript
function printOwing(invoice) {
  printBanner();
  let outstanding = calculateOtustanding();
  
  // ì„¸ë¶€ì‚¬í•­ ì¶œë ¥
  console.log(`ê³ ê°ëª…: ${invoice.customer}`);
  console.log(`ì²´ë¬´ì•¡: ${outstanding}`);
  
```

í•¨ìˆ˜ ì¶”ì¶œí•˜ê¸° ì§„í–‰ í›„

```javascript
function printOwing(invoice) {
  printBanner();
  let outstanding = calculateOtustanding();
  
  funtion printDetails(outstanding) {
  console.log(`ê³ ê°ëª…: ${invoice.customer}`);
  console.log(`ì²´ë¬´ì•¡: ${outstanding}`);
  }
}
```



## ğŸ§· ë°°ê²½

ì½”ë“œ ì¡°ê°ì„ ì°¾ì•„ ë¬´ìŠ¨ ì¼ì„ í•˜ëŠ”ì§€ íŒŒì•…í•œ ë‹¤ìŒ, ë…ë¦½ëœ í•¨ìˆ˜ë¡œ ì¶”ì¶œí•˜ê³  ëª©ì ì— ë§ëŠ” ì´ë¦„ì„ ë¶™ì¸ë‹¤.

ğŸ“ ì–¸ì œ ë…ë¦½ëœ í•¨ìˆ˜ë¡œ ë¬¶ì–´ì•¼ í• ê¹Œ?

* ê¸¸ì´ë¥¼ ê¸°ì¤€
* ì¬ì‚¬ìš©ì„±
* **ëª©ì ê³¼ êµ¬í˜„ì„ ë¶„ë¦¬: ì½”ë“œë¥¼ ë³´ê³  ë¬´ìŠ¨ ì¼ì„ í•˜ëŠ”ì§€ íŒŒì•…í•˜ëŠ” ë° í•œì°¸ì´ ê±¸ë¦¬ëŠ” ê²½ìš°**

ğŸ“ í•¨ìˆ˜ê°€ ì§§ì•„ì§€ë©´ í•¨ìˆ˜ í˜¸ì¶œì´ ë§ì•„ì ¸ì„œ ì„±ëŠ¥ì´ ëŠë ¤ì§ˆê¹Œ?

í•¨ìˆ˜ê°€ ì§§ìœ¼ë©´ ìºì‹±í•˜ê¸°ê°€ ë” ì‰½ê¸° ë•Œë¬¸ì— ì»´íŒŒì¼ëŸ¬ê°€ ìµœì í™”í•˜ëŠ”ë° ìœ ë¦¬í•œ ê²½ìš°ê°€ ë” ë§ë‹¤. ì§§ì€ í•¨ìˆ˜ì˜ ì´ì ì€ ì´ë¦„ì„ ì˜ ì§€ì–´ì•¼ ë°œíœ˜ëœë‹¤. ê¸´ í•¨ìˆ˜ì˜ ì½”ë“œ ë©ì–´ë¦¬ì˜ ì£¼ì„ì„ ì°¸ê³ í•˜ë©´ ë„ì›€ëœë‹¤.

## ğŸ§· ì ˆì°¨

1. í•¨ìˆ˜ë¥¼ ìƒˆë¡œ ë§Œë“¤ê³  ëª©ì ì„ ì˜ ë“œëŸ¬ë‚´ëŠ” ì´ë¦„ì„ ë¶™ì¸ë‹¤. (**ì–´ë–»ê²Œê°€ ì•„ë‹Œ ë¬´ì—‡ì„ í•˜ëŠ”ì§€ê°€ ë“œëŸ¬ë‚˜ì•¼ í•œë‹¤.**)
2. ì¶”ì¶œí•  ì½”ë“œë¥¼ ì›ë³¸ í•¨ìˆ˜ì—ì„œ ë³µì‚¬í•˜ì—¬ ìƒˆ í•¨ìˆ˜ì— ë¶™ì—¬ë„£ëŠ”ë‹¤.
3. ì¶”ì¶œí•œ ì½”ë“œ ì¤‘ ì›ë³¸ í•¨ìˆ˜ì˜ ì§€ì—­ ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•˜ê±°ë‚˜ ì¶”ì¶œí•œ í•¨ìˆ˜ì˜ ìœ íš¨ë²”ìœ„ë¥¼ ë²—ì–´ë‚˜ëŠ ë³€ìˆ˜ëŠ” ì—†ëŠ”ì§€ ê²€ì‚¬í•œë‹¤. ìˆë‹¤ë©´ ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬í•œë‹¤.
4. ë³€ìˆ˜ë¥¼ ë‹¤ ì²˜ë¦¬í–ˆë‹¤ë©´ ì»´íŒŒì¼ í•œë‹¤.
5. ì›ë³¸ í•¨ìˆ˜ì—ì„œ ì¶”ì¶œí•œ ì½”ë“œ ë¶€ë¶„ì„ ìƒˆë¡œ ë§Œë“  í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ë¬¸ì¥ìœ¼ë¡œ ë°”ê¾¼ë‹¤. ì¶”ì¶œí•œ í•¨ìˆ˜ë¡œ ì¼ì„ ìœ„ì„í•œë‹¤.
6. í…ŒìŠ¤íŠ¸í•œë‹¤.
7. ë‹¤ë¥¸ ì½”ë“œì— ë°©ê¸ˆ ì¶”ì¶œí•œ ê²ƒê³¼ ë˜‘ê°™ê±°ë‚˜ ë¹„ìŠ·í•œ ì½”ë“œê°€ ì—†ëŠ”ì§€ ì‚´í•€ë‹¤. ìˆë‹¤ë©´ ë°©ê¸ˆ ì¶”ì¶œí•œ ìƒˆ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë„ë¡ ë°”ê¿€ì§€ ê²€í† í•œë‹¤. ì¸ë¼ì¸ ì½”ë“œë¥¼ í•¨ìˆ˜ í˜¸ì¶œë¡œ ë°”ê¾¼ë‹¤.

## ğŸ§· ë¦¬íŒ©í„°ë§ ì „

```javascript
function printOwing(invoice) { 
  let outstanding = 0;
  
  console.log("********");
  console.log("**ê³ ê° ì±„ë¬´**");
  console.log("********");
  
  //ë¯¸í•´ê²° ì±„ë¬´(outstanding) ê³„ì‚°
  for(const o of invoice.orders) {
  	outstanding += 0.amountl
  }
  
  //ë§ˆê°ì¼(dueDate)ì„ ê¸°ë¡í•œë‹¤.
  const today = Clock.today; 
  invoice.dueDate = new Date(today.getFullYear(), today.getMonth(),
   today.getDate() + 30);
  
  //ì„¸ë¶€ ì‚¬í•­ì„ ì¶œë ¥í•œë‹¤.
  console.log(`ê³ ê°ëª…: ${invoice.customer}`);
  console.log(`ì±„ë¬´ì•¡: ${outstanding}`);
  console.log(`ë§ˆê°ì¼: ${invoice.dueDate.toLocaleDateString()}`);
}
```

### ğŸ§· ì˜ˆì‹œ: ìœ íš¨ë²”ìœ„ë¥¼ ë²—ì–´ë‚˜ëŠ” ë³€ìˆ˜ê°€ ì—†ì„ ë•Œ

* Banner ì¶œë ¥í•˜ëŠ” ì½”ë“œ ì¶”ì¶œí•˜ê¸°. í•´ë‹¹ ì½”ë“œë¥¼ ì˜ë¼ë‚´ì„œ ìƒˆ í•¨ìˆ˜ì— ë¶™ì´ê³ , ì›ë˜ ìë¦¬ì— ìƒˆ í•¨ìˆ˜ í˜¸ì¶œë¬¸ì„ ë„£ëŠ”ë‹¤.

```javascript
function printOwing(invoice) { 
  let outstanding = 0;
  
  printBanner();  // ë°°ë„ˆ ì¶œë ¥ ë¡œì§ì„ í•¨ìˆ˜ë¡œ ì¶”ì¶œ
  
  //ë¯¸í•´ê²° ì±„ë¬´(outstanding) ê³„ì‚°
  for(const o of invoice.orders) {
  	outstanding += 0.amountl
  }
  
  //ë§ˆê°ì¼(dueDate)ì„ ê¸°ë¡í•œë‹¤.
  const today = Clock.today; 
  invoice.dueDate = new Date(today.getFullYear(), today.getMonth(),
   today.getDate() + 30);
  
  //ì„¸ë¶€ ì‚¬í•­ì„ ì¶œë ¥í•œë‹¤.
  console.log(`ê³ ê°ëª…: ${invoice.customer}`);
  console.log(`ì±„ë¬´ì•¡: ${outstanding}`);
  console.log(`ë§ˆê°ì¼: ${invoice.dueDate.toLocaleDateString()}`);
  
  function printBanner () {
    console.log("********");
    console.log("**ê³ ê° ì±„ë¬´**");
    console.log("********");
  }
}
```

* ë§ˆì°¬ê°€ì§€ë¡œ, ì„¸ë¶€ ì‚¬í•­ì„ ì¶œë ¥í•˜ëŠ” ì½”ë“œë„ ê°„ë‹¨íˆ ì¶”ì¶œí•œë‹¤.

```javascript
function printOwing(invoice) { 
  let outstanding = 0;
  
  printBanner();  // ë°°ë„ˆ ì¶œë ¥ ë¡œì§ì„ í•¨ìˆ˜ë¡œ ì¶”ì¶œ
  
  //ë¯¸í•´ê²° ì±„ë¬´(outstanding) ê³„ì‚°
  for(const o of invoice.orders) {
  	outstanding += 0.amountl
  }
  
  //ë§ˆê°ì¼(dueDate)ì„ ê¸°ë¡í•œë‹¤.
  const today = Clock.today; 
  invoice.dueDate = new Date(today.getFullYear(), today.getMonth(),
   today.getDate() + 30);
  
  printDetails();  // ì„¸ë¶€ ì‚¬í•­ ì¶œë ¥ ë¡œì§ì„ í•¨ìˆ˜ë¡œ ì¶”ì¶œ
  
  function printBanner () {
    console.log("********");
    console.log("**ê³ ê° ì±„ë¬´**");
    console.log("********");
  }
  
  function printDetails () {
    console.log(`ê³ ê°ëª…: ${invoice.customer}`);
    console.log(`ì±„ë¬´ì•¡: ${outstanding}`);
    console.log(`ë§ˆê°ì¼: ${invoice.dueDate.toLocaleDateString()}`);
  }
}
```

### ğŸ§· ì˜ˆì‹œ: ì§€ì—­ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•  ë•Œ

ì§€ì—­ ë³€ìˆ˜ì™€ ê´€ë ¨í•˜ì—¬ ê°€ì¥ ê°„ë‹¨í•œ ê²½ìš°ëŠ” ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì§€ë§Œ ë‹¤ë¥¸ ê°’ì„ ë‹¤ì‹œ ëŒ€ì…í•˜ì§€ëŠ” ì•Šì„ ë•Œë‹¤. ì´ ê²½ìš°ì—ëŠ” ì§€ì—­ ë³€ìˆ˜ë“¤ì„ ê·¸ëƒ¥ ë§¤ê°œë³€ìˆ˜ë¡œ ë„˜ê¸°ë©´ ëœë‹¤.

* ì„¸ë¶€ì‚¬í•­ì„ ì¶œë ¥í•˜ëŠ” ì½”ë“œë¥¼ ì§€ì—­ ë³€ìˆ˜ ë‘ ê°œë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ëŠ” í•¨ìˆ˜ë¡œ ì¶”ì¶œí•œë‹¤.

```javascript
function printOwing(invoice) { 
  let outstanding = 0;
  
  printBanner();  // ë°°ë„ˆ ì¶œë ¥ ë¡œì§ì„ í•¨ìˆ˜ë¡œ ì¶”ì¶œ
  
  //ë¯¸í•´ê²° ì±„ë¬´(outstanding) ê³„ì‚°
  for(const o of invoice.orders) {
  	outstanding += 0.amountl
  }
  
  //ë§ˆê°ì¼(dueDate)ì„ ê¸°ë¡í•œë‹¤.
  const today = Clock.today; 
  invoice.dueDate = new Date(today.getFullYear(), today.getMonth(),
   today.getDate() + 30);
  
  printDetails(invoice, outstanding);  // ì§€ì—­ë³€ìˆ˜ë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬
  
  function printBanner () {
    console.log("********");
    console.log("**ê³ ê° ì±„ë¬´**");
    console.log("********");
  }
  
  function printDetails (invoice, outstanding) {
    console.log(`ê³ ê°ëª…: ${invoice.customer}`);
    console.log(`ì±„ë¬´ì•¡: ${outstanding}`);
    console.log(`ë§ˆê°ì¼: ${invoice.dueDate.toLocaleDateString()}`);
  }
}
```

* ë§ˆê°ì¼ì„ ì„¤ì •í•˜ëŠ” ì½”ë“œë¥¼ ì¶”ì¶œí•œë‹¤.

```javascript
function printOwing(invoice) { 
  let outstanding = 0;
  
  printBanner();  // ë°°ë„ˆ ì¶œë ¥ ë¡œì§ì„ í•¨ìˆ˜ë¡œ ì¶”ì¶œ
  
  //ë¯¸í•´ê²° ì±„ë¬´(outstanding) ê³„ì‚°
  for(const o of invoice.orders) {
  	outstanding += 0.amountl
  }
  
  recordDueDate(invoice);  // ë§ˆê°ì¼ ì„¤ì • ë¡œì§ì„ í•¨ìˆ˜ë¡œ ì¶”ì¶œ
  printDetails(invoice, outstanding);  // ì§€ì—­ë³€ìˆ˜ë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬
  
  function printBanner () {
    console.log("********");
    console.log("**ê³ ê° ì±„ë¬´**");
    console.log("********");
  }
  
  function printDetails (invoice, outstanding) {
    console.log(`ê³ ê°ëª…: ${invoice.customer}`);
    console.log(`ì±„ë¬´ì•¡: ${outstanding}`);
    console.log(`ë§ˆê°ì¼: ${invoice.dueDate.toLocaleDateString()}`);
  }
  
  function recordDueDate (invoice) {
    const today = Clock.today;
    invoice.dueDate = new Date(today.getFullYear(), today.getMonth(),
    today.getDate() + 30);
  }
}
```

### ğŸ§· ì˜ˆì‹œ: ì§€ì—­ ë³€ìˆ˜ì˜ ê°’ì„ ë³€ê²½ í•  ë•Œ

ì§€ì—­ ë³€ìˆ˜ì— ê°’ì„ ëŒ€ì…í•˜ë©´ ë¬¸ì œê°€ ë³µì¡í•´ì§„ë‹¤. ë³€ìˆ˜ê°€ ì¶”ì¶œí•œ í•¨ìˆ˜ ë°–ì—ì„œ ì‚¬ìš©ë˜ëŠ” ê²½ìš° ë³€ìˆ˜ì— ëŒ€ì…ëœ ìƒˆ ê°’ì„ ë°˜í™˜í•´ì•¼ í•œë‹¤.

```javascript
function printOwing(invocie) {
  let outstanding = 0;
 
  printBanner();
  //ë¯¸í•´ê²° ì±„ë¬´(outstanding) ê³„ì‚°
  for(const o of invoice.orders) {
  	outstanding += 0.amountl
  }
  recordDueDate(invoice);
  printDetails(invoice, outstanding);
}
```

1. ì„ ì–¸ë¬¸ì„ ë³€ìˆ˜ê°€ ì‚¬ìš©ë˜ëŠ” ì½”ë“œ ê·¼ì²˜ë¡œ ìŠ¬ë¼ì´ë“œ í•œë‹¤.

```javascript
function printOwing(invocie) {
  printBanner();
  
  //ë¯¸í•´ê²° ì±„ë¬´(outstanding) ê³„ì‚°
  let outstanding = 0;  // ë§¨ ìœ„ì— ìˆë˜ ì„ ì–¸ë¬¸ì„ ì´ ìœ„ì¹˜ë¡œ ì´ë™
  for(const o of invoice.orders) {
  	outstanding += 0.amountl
  }
  recordDueDate(invoice);
  printDetails(invoice, outstanding);
}
```

2. ì¶”ì¶œí•  ë¶€ë¶„ì„ ìƒˆë¡œìš´ í•¨ìˆ˜ë¡œ ë³µì‚¬í•œë‹¤.

```javascript
function printOwing(invocie) {
  printBanner();
  
  //ë¯¸í•´ê²° ì±„ë¬´(outstanding) ê³„ì‚°
  let outstanding = 0;  // ë§¨ ìœ„ì— ìˆë˜ ì„ ì–¸ë¬¸ì„ ì´ ìœ„ì¹˜ë¡œ ì´ë™
  for(const o of invoice.orders) {
  	outstanding += 0.amountl
  }
  
  recordDueDate(invoice);
  printDetails(invoice, outstanding);
}

function calculateOutstanding (invoice) {
  let outstanding = 0;  // ì¶”ì¶œí•  ì½”ë“œ ë³µì‚¬
    for(const o of invoice.orders) {
      outstanding += 0.amount;
  }
  return outstanding;  // ìˆ˜ì •ëœ ê°’ ë°˜í™˜
}
```

3. outstandingì˜ ì„ ì–¸ë¬¸ì„ ì¶”ì¶œí•  ì½”ë“œ ì•–ìœ¼ë¡œ ì˜®ê²¼ê¸° ë•Œë¬¸ì— ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬í•˜ì§€ ì•Šì•„ë„ ëœë‹¤. ì¶”ì¶œí•  ì½”ë“œì—ì„œ ê°’ì´ ë³€ê²½ëœ ë³€ìˆ˜ëŠ” outstandingë¿ì´ë¯€ë¡œ ì´ ê°’ì„ ë°˜í™˜í•œë‹¤.

```javascript
function printOwing(invocie) {
  printBanner();

  const outstanding = calculateOutstanding(invoice);  // í•¨ìˆ˜ ì¶”ì¶œ ì™„ë£Œ. ì¶”ì¶œí•œ í•¨ìˆ˜ê°€ ë°˜í™˜í•œ ê°’ì„ ì›ë˜ ë³€ìˆ˜ì— ì €ì¥í•œë‹¤.
  for(const o of invoice.orders) {
  	outstanding += 0.amountl
  }
  
  recordDueDate(invoice);
  printDetails(invoice, outstanding);
}

function calculateOutstanding (invoice) {
  let result = 0;  //   ë³€ìˆ˜ ì´ë¦„ ë³€ê²½
    for(const o of invoice.orders) {
      outstanding += 0.amount;
  }
  return result; 
}
```

* ì›ë³¸ ë³€ìˆ˜ì¸ outstandingì— constë¥¼ ë¶™ì—¬ ë¶ˆë³€ìœ¼ë¡œ ë§Œë“¤ì—ˆë‹¤.



## ğŸ§· ë¦¬íŒ©í„°ë§ í›„

<pre class="language-javascript"><code class="lang-javascript">function printOwing(invoice) {
  printBanner();
  const outstanding = calculateOutstanding(invoice);
  recordDueDate(invoice);
  printDetails(invoice, outstading);
}


function printBanner () {
  console.log("********");
  console.log("**ê³ ê° ì±„ë¬´**");
  console.log("********");
}

function calculateOutstanding (invoice) {
  let result = 0;
    for(const o of invoice.orders) {
      outstanding += 0.amount;
<strong>  }
</strong>  return result;
}

function recordDueDate (invoice) {
  const today = Clock.today;
  invoice.dueDate = new Date(today.getFullYear(), today.getMonth(),
  today.getDate() + 30);
}

function printDetails (invoice, outstanding) {
  console.log(`ê³ ê°ëª…: ${invoice.customer}`);
  console.log(`ì±„ë¬´ì•¡: ${outstanding}`);
  console.log(`ë§ˆê°ì¼: ${invoice.dueDate.toLocaleDateString()}`);
}
</code></pre>



