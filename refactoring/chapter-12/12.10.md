# âœï¸ 12.10 ì„œë¸Œí´ë˜ìŠ¤ë¥¼ ìœ„ì„ìœ¼ë¡œ ë°”ê¾¸ê¸°

ë¦¬íŒ©í„°ë§ ì „

```javascript
class Order {
  get daysToShip() {
    return this._warehouse.daysToShip;
  }
}

class PriorityOrder extends Order {
  get daysToShip() {
    return this._priorityPlan.daysToShip;
  }
}
```

ë¦¬íŒ©í„°ë§ í›„

```javascript
class Order {
  get daysToShip() {
    return (this._priorityDelegate)
      ? this._priorityDelegate.daysToShip
      : this._warehouse.daysToShip;
  }
}

class PriorityOrderDelegate {
  get daysToShip() {
    return this._priorityPlan.daysToShip
  }
}
```

## ğŸ§· ë°°ê²½

ìƒì†ì€ ë¬´ì–¸ê°€ê°€ ë‹¬ë¼ì ¸ì•¼ í•˜ëŠ” ì´ìœ ê°€ ì—¬ëŸ¬ ê°œì—¬ë„ ìƒì†ì—ì„œëŠ” ê·¸ì¤‘ ë‹¨ í•˜ë‚˜ì˜ ì´ìœ ë§Œ ì„ íƒí•´ì•¼ í•˜ë©°, í´ë˜ìŠ¤ë“¤ì˜ ê´€ê³„ë¥¼ ì•„ì£¼ ê¸´ë°€í•˜ê²Œ ê²°í•©í•œë‹¤.

ë”°ë¼ì„œ ì´ ëŒ€ì‹  ìœ„ì„ì„ ì‚¬ìš©í•˜ì. ìœ„ì„ì€ ê°ì²´ ì‚¬ì´ì˜ ì¼ë°˜ì ì¸ ê´€ê³„ì´ë¯€ë¡œ ìƒí˜¸ì‘ìš©ì— í•„ìš”í•œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ëª…í™•íˆ ì •ì˜í•  ìˆ˜ ìˆë‹¤.

ì¦‰, ìƒì†ë³´ë‹¤ ê²°í•©ë„ê°€ í›¨ì”¬ ì•½í•˜ë‹¤.

## ğŸ§· ì ˆì°¨

1. ìƒì„±ìë¥¼ í˜¸ì¶œí•˜ëŠ” ê³³ì´ ë§ë‹¤ë©´ ìƒì„±ìë¥¼ íŒ©í„°ë¦¬ í•¨ìˆ˜ë¡œ ë°”ê¾¼ë‹¤.
2. ìœ„ì„ìœ¼ë¡œ í™œìš©í•  ë¹ˆ í´ë˜ìŠ¤ë¥¼ ë§Œë“ ë‹¤. ì´ í´ë˜ìŠ¤ì˜ ìƒì„±ìëŠ” ì„œë¸Œí´ë˜ìŠ¤ì— íŠ¹í™”ëœ ë°ì´í„°ë¥¼ ì „ë¶€ ë°›ì•„ì•¼ í•˜ë©°, ë³´í†µì€ ìŠˆí¼í´ë˜ìŠ¤ë¥¼ ê°€ë¦¬í‚¤ëŠ” ì—­ì°¸ì¡°ë„ í•„ìš”í•˜ë‹¤.
3. ìœ„ì„ì„ ì €ì¥í•  í•„ë“œë¥¼ ìŠˆí¼í´ë˜ìŠ¤ì— ì¶”ê°€í•œë‹¤.
4. ì„œë¸Œí´ë˜ìŠ¤ ìƒì„± ì½”ë“œë¥¼ ìˆ˜ì •í•˜ì—¬ ìœ„ì„ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ê³  ìœ„ì„ í•„ë“œì— ëŒ€ì…í•´ ì´ˆê¸°í™”í•œë‹¤.
5. ì„œë¸Œí´ë˜ìŠ¤ì˜ ë©”ì„œë“œ ì¤‘ ìœ„ì„ í´ë˜ìŠ¤ë¡œ ì´ë™í•  ê²ƒì„ ê³ ë¥¸ë‹¤.
6. í•¨ìˆ˜ ì˜®ê¸°ê¸°ë¥¼ ì ìš©í•´ ìœ„ì„ í´ë˜ìŠ¤ë¡œ ì˜®ê¸´ë‹¤. ì›ë˜ ë©”ì„œë“œì—ì„œ ìœ„ì„í•˜ëŠ” ì½”ë“œëŠ” ì§€ìš°ì§€ ì•ŠëŠ”ë‹¤.
7. ì„œë¸Œí´ë˜ìŠ¤ ì™¸ë¶€ì—ë„ ì›ë˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ì½”ë“œê°€ ìˆë‹¤ë©´ ì„œë¸Œí´ë˜ìŠ¤ì— ìœ„ì„ ì½”ë“œë¥¼ ìŠˆí¼í´ë˜ìŠ¤ë¡œ ì˜®ê¸´ë‹¤. ì´ë•Œ ìœ„ì„ì´ ì¡´ì¬í•˜ëŠ”ì§€ë¥¼ ê²€ì‚¬í•˜ëŠ” ë³´í˜¸ ì½”ë“œë¡œ ê°ì‹¸ì•¼ í•œë‹¤. í˜¸ì¶œí•˜ëŠ” ì™¸ë¶€ ì½”ë“œê°€ ì—†ë‹¤ë©´ ì›ë˜ ë©”ì„œë“œëŠ” ì£½ì€ ì½”ë“œê°€ ë˜ë¯€ë¡œ ì œê±°í•œë‹¤.
8. í…ŒìŠ¤íŠ¸í•œë‹¤.
9. ì„œë¸Œí´ë˜ìŠ¤ì˜ ëª¨ë“  ë©”ì„œë“œê°€ ì˜®ê²¨ì§ˆ ë•Œê¹Œì§€ 5\~8 ê³¼ì •ì„ ë°˜ë³µí•œë‹¤.
10. ì„œë¸Œí´ë˜ìŠ¤ë“¤ì˜ ìƒì„±ìë¥¼ í˜¸ì¶œí•˜ëŠ” ì½”ë“œë¥¼ ì°¾ì•„ì„œ ìŠˆí¼í´ë˜ìŠ¤ì˜ ìƒì„±ìë¥¼ ì‚¬ìš©í•˜ë„ë¡ ìˆ˜ì •í•œë‹¤.
11. í…ŒìŠ¤íŠ¸í•œë‹¤.
12. ì„œë¸Œí´ë˜ìŠ¤ë¥¼ ì‚­ì œí•œë‹¤.

## ğŸ§· ì˜ˆì‹œ: ì„œë¸Œí´ë˜ìŠ¤ê°€ í•˜ë‚˜ì¼ ë•Œ

### ğŸ§· ë¦¬íŒ©í„°ë§ ì „

<pre class="language-javascript"><code class="lang-javascript">// Booking í´ë˜ìŠ¤
class Booking {
  constructor(show, date) {
    this._show = show;
    this._date = date;
  }

  get hasTalkback() {
    return this._show.hasOwnProperty("talkback") &#x26;&#x26; !this.isPeakDay;
  }

  get basePrice() {
    let result = this._show.price;
    if (this.isPeakDay) result += Math.round(result * 0.15);
<strong>    return result;
</strong>  }
}

// PremiumBooking í´ë˜ìŠ¤(Bookingì„ ìƒì†í•¨)
class PremiumBooking extends Booking {
  constructor(show, date, extras) {
    super(show, date);
    this._extras = extras;
  }

  get hasTalkback() {
    return this._show.hasOwnProperty("talkback");
  }

  get basePrice() {
    return Math.round(super.basePrice + this._extras.premiumFee);
  }

  get hasDinner() {
    return this._extras.hasOwnProperty("dinner") &#x26;&#x26; !this.isPeakDay;
  }
}
</code></pre>

### ğŸ“ì„œë¸Œí´ë˜ìŠ¤ë¥¼ ì™œ ìœ„ì„ìœ¼ë¡œ ë°”ê¾¸ë ¤í• ê¹Œ?

ìƒì†ì€ í•œ ë²ˆë§Œ ì‚¬ìš©í•  ìˆëŠ” ë„êµ¬ì´ë‹¤. ìƒì†ì„ ì‚¬ìš©í•´ì•¼ í•  ë‹¤ë¥¸ ì´ìœ ê°€ ìƒê¸´ë‹¤ë©´, ì„œë¸Œí´ë˜ìŠ¤ë¥¼ ìœ„ì„ìœ¼ë¡œ ë°”ê¾¸ëŠ” ê²Œ ì¢‹ë‹¤.

(í”„ë¦¬ë¯¸ì—„ ì˜ˆì•½ì„ ìƒì†ì´ ì•„ë‹Œ ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ í‘œí˜„í•˜ëŠ” ê²ƒì´ ë” ì¢‹ë‹¤.)

### ğŸ§· ë¦¬íŒ©í„°ë§ í›„

```javascript
// Booking í´ë˜ìŠ¤
class Booking {
  constructor(show, date) {
    this._show = show;
    this._date = date;
  }

  get hasTalkback() {
    return (this._premiumDelegate)
    	? this._premiumDelegete.hasTalkback
    	: this._show.hasOwnProperty('talkback') && !this.isPeakDay;
  }

  get basePrice() {
    let result = this._show.price;
    if (this.isPeakDay) result += Math.round(result * 0.15);
    return (this._premiumDelegate)
    	? this._premiumDelegate.extendBasePrice(result);
    	: result;
  }

  get hasDinner() {
    return (this._premiumDelegate)
    	? this._premiumDelegate.hasDinner
    	: undefined;
  }

  _bePremium(extras) {
    this._premiumDelegate = new PremiumBookingDelegate(this, extras);
  }
}

// 1. ìƒì„±ìë¥¼ íŒ©í„°ë¦¬ í•¨ìˆ˜ë¡œ ë°”ê¿”ì„œ ìƒì„±ì í˜¸ì¶œ ë¶€ë¶„ì„ ìº¡ìŠí™” í•œë‹¤.
function createBooking(show, date) {
  return new Booking(show, date);
}

function createPremiumBooking(show, date, extras) {
  // 3. ìƒˆë¡œìš´ ìœ„ì„ì„ ì˜ˆì•½ ê°ì²´ì™€ ì—°ê²°í•œë‹¤.
  const result = new Booking(show, date, extras);
  result._bePremium(extras);
  return result;
}

// í´ë¼ì´ì–¸íŠ¸(ì¼ë°˜ ì˜ˆì•½)
aBooking = createBooking(show, date);

// í´ë¼ì´ì–¸íŠ¸(í”„ë¦¬ë¯¸ì—„ ì˜ˆì•½)
aBooking = createPremiumBooking(show, date, extras);

// 2. ìƒˆë¡œìš´ ìœ„ì„ í´ë˜ìŠ¤ë¥¼ ë§Œë“ ë‹¤.
class PremiumBookingDelegate {
  constructor(hostBooking, extras) {
    this._host = hostBooking;
    this._extras = extras;
  }

  get hasTalkback() {
    return this._host._show.hasOwnProperty('talkback');
  }

  get basePrice() {
    return Math.round(this._host._privateBasePrice + this._extras.premiumFee);
  }

  extendBasePrice(base) {
    return Math.round(base + this._extras.premiumFee);
  }

  get hasDinner() {
    return this._extras.hasOwnProperty('dinner') && !this.isPeakDay;
  }
}
```
