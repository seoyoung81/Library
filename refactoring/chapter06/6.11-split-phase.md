# âœï¸ 6.11 ë‹¨ê³„ ìª¼ê°œê¸° (Split Phase)

ë¦¬íŒ©í„°ë§ ì „

```javascript
const orderData = orderString.split(\/s+/);
const productPrice = priceList[orderData[0].split("-")[1]];
const orderPrice = parseInt(orderData[1]) * productPrice;
```

ë¦¬íŒ©í„°ë§ í›„

```javascript
const orderRecord = paseOrder(order);
const orderPrice = price(orderRecord, priceList);

function parseOrder(aString) {
  const values = aString.split(\/s+/);
  return ({
    productID: values[0].split("-")[1],
    quantity: parseInt(values[1]),
  });
}
function price(order, priceList) {
  return order.quantity * priceList[order.productID];
}
```

## ğŸ§· ë°°ê²½

ì„œë¡œ ë‹¤ë¥¸ ë‘ ëŒ€ìƒì„ í•œêº¼ë²ˆì— ë‹¤ë£¨ëŠ” ì½”ë“œë¥¼ ë°œê²¬í•˜ë©´ ê°ê°ì„ ë³„ê°œ ëª¨ë“ˆë¡œ ë‚˜ëˆ„ëŠ” ë°©ë²•ì„ íƒí•œë‹¤. ì½”ë“œë¥¼ ìˆ˜ì •í•´ì•¼ í•  ë•Œ ë‘ ëŒ€ìƒì„ ë™ì‹œì— ìƒê°í•  í•„ìš” ì—†ì´ í•˜ë‚˜ì—ë§Œ ì§‘ì¤‘í•˜ê¸° ìœ„í•´ì„œë‹¤.



## ğŸ§· ì ˆì°¨

1. ë‘ ë²ˆì§¸ ë‹¨ê³„ì— í•´ë‹¹í•˜ëŠ” ì½”ë“œë¥¼ ë…ë¦½ í•¨ìˆ˜ë¡œ ì¶”ì¶œí•œë‹¤.
2. í…ŒìŠ¤íŠ¸í•œë‹¤.
3. ì¤‘ê°„ ë°ì´í„° êµ¬ì¡°ë¥¼ ë§Œë“¤ì–´ì„œ ì•ì—ì„œ ì¶”ì¶œí•œ í•¨ìˆ˜ì˜ ì¸ìˆ˜ë¡œ ì¶”ê°€í•œë‹¤.
4. í…ŒìŠ¤íŠ¸í•œë‹¤.
5. ì¶”ì¶œí•œ ë‘ ë²ˆì§¸ ë‹¨ê³„ í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ë¥¼ í•˜ë‚˜ì”© ê²€í† í•œë‹¤. ê·¸ ì¤‘ ì²« ë²ˆì§¸ ë‹¨ê³„ì—ì„œ ì‚¬ìš©ë˜ëŠ” ê²ƒì€ ì¤‘ê°„ ë°ì´í„° êµ¬ì¡°ë¡œ ì˜®ê¸´ë‹¤. í•˜ë‚˜ì”© ì˜®ê¸¸ ë•Œë§ˆë‹¤ í…ŒìŠ¤íŠ¸í•œë‹¤.
6. ì²«ë²ˆì§¸ ë‹¨ê³„ ì½”ë“œë¥¼ í•¨ìˆ˜ë¡œ ì¶”ì¶œí•˜ë©´ì„œ ì¤‘ê°„ ë°ì´í„° êµ¬ì¡°ë¥¼ ë°˜í™˜í•˜ë„ë¡ ë§Œë“ ë‹¤.

## ğŸ§· ë¦¬íŒ©í„°ë§ ì „

<pre class="language-javascript"><code class="lang-javascript">function priceOrder(product, quantity, shippingMethod) {
<strong>  const basePrice = product.basePrice * quantity;
</strong>  const discount = Math.max(quntity - product.discountThreshold, 0)
	* product.basePrice * product.discountRate;
  const shippingPerCase = (basePrice > shippingMethod.discountThreshold)
	? shippingMethod.discountedFee : shippingMethod.feePerCase;
  const shippingCost = quantity * shippingPerCase;
  const price = basePrice - discount + shippingCost;
  return price;				
}
</code></pre>

## ğŸ§· ë¦¬íŒ©í„°ë§ í›„

```javascript
function priceOrder(product, quantity, shippingMethod) {
  const priceData = calculatePriceingData(product, quantity);
  return applyShipping(priceData, shippingMethod);
}

function calculatePricingData(product, quantity) {
  const basePrice = product.basePrice * quantity;
  const discount = Math.max(quntity - product.discountThreshold, 0)
	* product.basePrice * product.discountRate;
  return {basePrice: basePrice, quantity: quantity, discount: discount};
}

function applyShipping(priceData, shippingMethod) {
  const shippingPerCase = (basePrice > shippingMethod.discountThreshold)
	? shippingMethod.discountedFee : shippingMethod.feePerCase;
  const shippingCost = quantity * shippingPerCase;
  return priceData.basePrice - priceData.discount + shippingCost;
}
```



í•µì‹¬ì€ ì–´ë””ê¹Œì§€ë‚˜ ë‹¨ê³„ë¥¼ ëª…í™•íˆ ë¶„ë¦¬í•˜ëŠ” ê²ƒì´ë‹¤.&#x20;
