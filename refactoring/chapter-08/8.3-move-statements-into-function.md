# âœï¸ 8.3 ë¬¸ì¥ì„ í•¨ìˆ˜ë¡œ ì˜®ê¸°ê¸° (Move Statements into Function)

ë¦¬íŒ©í„°ë§ ì „

```javascript
result.push(`<p>title: ${person.photo.title}</p>`);
result.concat(photoData(person.photo));

function photoData(aPhoto) {
  return [
    `<p>location: ${aPhoto.location}</p>`,
    `<p>date: ${aPhoto.date.toDateString()}</p>`,
  ];
}
```

ë¦¬íŒ©í„°ë§ í›„

```javascript
result.concat(photoData(person.photo));

function photoData(aPhoto) {
  return [
    `<p>title: ${aPhoto.title}</p>`,
    `<p>location: ${aPhoto.location}</p>`,
    `<p>date: ${aPhoto.date.toDateString()}</p>`,
  ];
}
```

## ğŸ§· ë°°ê²½

ì¤‘ë³µ ì œê±°ëŠ” ì½”ë“œë¥¼ ê±´ê°•í•˜ê²Œ ê´€ë¦¬í•˜ëŠ” ê°€ì¥ íš¨ê³¼ì ì¸ ë°©ë²•ì´ë‹¤. ì¤‘ë³µëœ ì½”ë“œê°€ ìˆìœ¼ë©´ íŠ¹ì • í•¨ìˆ˜ë¥¼ í˜¸ì¶œ í•  ë•Œë§ˆë‹¤ ë˜‘ê°™ì€ ì½”ë“œê°€ ì¶”ê°€ë¡œ ì‹¤í•´ë˜ë¯€ë¡œ ë°˜ë³µë˜ëŠ” ë¶€ë¶„ì„ í”¼í˜¸ì¶œ í•¨ìˆ˜ë¡œ í•©ì¹˜ëŠ” ë°©ë²•ì´ í•„ìš”í•˜ë‹¤.

ë¬¸ì¥ë“¤ì„ í•¨ìˆ˜ë¡œ ì˜®ê¸°ë ¤ë©´ ë¬¸ì¥ë“¤ì´ í”¼í˜¸ì¶œ í•¨ìˆ˜ì˜ ì¼ë¶€ë¼ëŠ” í™•ì‹ ì´ ìˆì–´ì•¼ í•œë‹¤.

## ğŸ§· ì ˆì°¨

1\. ë°˜ë³µ ì½”ë“œê°€ í•¨ìˆ˜ í˜¸ì¶œ ë¶€ë¶„ê³¼ ë©€ë¦¬ ë–¨ì–´ì ¸ ìˆë‹¤ë©´ ë¬¸ì¥ ìŠ¬ë¼ì´ë“œí•˜ê¸°ë¥¼ ì ìš©í•´ ê·¼ì²˜ë¡œ ì˜®ê¸´ë‹¤.

2\. íƒ€ê¹ƒ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ê³³ì´ í•œ ê³³ ë¿ì´ë©´, ë‹¨ìˆœíˆ ì†ŒìŠ¤ ìœ„ì¹˜ì—ì„œ í•´ë‹¹ ì½”ë“œë¥¼ ì˜ë¼ë‚´ì–´ í”¼í˜¸ì¶œ í•¨ìˆ˜ë¡œ ë³µì‚¬í•˜ê³  í…ŒìŠ¤íŠ¸ í•œë‹¤.

3\. í˜¸ì¶œìê°€ ë‘˜ ì´ìƒì´ë©´ í˜¸ì¶œì ì¤‘ í•˜ë‚˜ì—ì„œ 'íƒ€ê¹ƒ í•¨ìˆ˜ í˜¸ì¶œ ë¶€ë¶„ê³¼ ê·¸ í•¨ìˆ˜ë¡œ ì˜®ê¸°ë ¤ëŠ” ë¬¸ì¥ë“¤ì„ í•¨ê»˜' ë‹¤ë¥¸ í•¨ìˆ˜ë¡œ ì¶”ì¶œí•œë‹¤. ì¶”ì¶œí•œ í•¨ìˆ˜ì— ê¸°ì–µí•˜ê¸° ì‰¬ìš´ ì„ì‹œ ì´ë¦„ì„ ì§€ì–´ì¤€ë‹¤.

4\. ë‹¤ë¥¸ í˜¸ì¶œìê°€ ëª¨ë‘ ë°©ê¸ˆ ì¶”ì¶œí•œ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë„ë¡ ìˆ˜ì •í•œë‹¤. í•˜ë‚˜ì”© ìˆ˜ì •í•  ë•Œë§ˆë‹¤ í…ŒìŠ¤íŠ¸ í•œë‹¤.

5\. ëª¨ë“  í˜¸ì¶œìê°€ ìƒˆë¡œìš´ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ ì›ë˜ í•¨ìˆ˜ë¥¼ ìƒˆë¡œìš´ í•¨ìˆ˜ ì•ˆìœ¼ë¡œ ì¸ë¼ì¸í•œ í›„ ì›ë˜ í•¨ìˆ˜ë¥¼ ì œê±°í•œë‹¤.

6\. ìƒˆë¡œìš´ í•¨ìˆ˜ì˜ ì´ë¦„ì„ ì›ë˜ í•¨ìˆ˜ì˜ ì´ë¦„ìœ¼ë¡œ ë°”ê¿”ì¤€ë‹¤.\


## ğŸ§· ì˜ˆì‹œ

```javascript
function renderPerson(outStream, person) {
  const result = [];
  result.push(`<p>${person.name}</p>`);
  result.push(renderPhoto(person.photo));
  result.push(`<p>ì œëª©: ${person.photo.title}</p>`);  // ì œëª© ì¶œë ¥
  result.push(emitPhotoData(person.photo));
  return result.join("\n");
}

function photoDiv(p) {
  return [
    "<div>",
    `<p>ì œëª©: ${p.title}</p>`,  // ì œëª© ì¶œë ¥
    emitPhotoData(p),
    "</div>",
  ].join("\");
}

function emitPhotoData(aPhoto) {
  const result = [];
  result.push(`<p>ìœ„ì¹˜: ${aPhoto.location}</p>`);
  result.push(`<p>ë‚ ì§œ: ${aPhoto.date.toDateString()}</p>`);
  return result.join("\n");
}
```

ë‘ ê³³ì—ì„œ `emitPhotoData()`ë¥¼ í˜¸ì¶œí•˜ê³ , ë‘ ê³³ ëª¨ë‘ ë°”ë¡œ ì•ì— ì œëª© ì¶œë ¥ ì½”ë“œê°€ ë‚˜ì˜¨ë‹¤. ì œëª©ì„ ì¶œë ¥í•˜ëŠ” ì½”ë“œë¥¼ `emitPhotoData()` ì•ˆìœ¼ë¡œ ì˜®ê²¨ ì¤‘ë³µì„ ì—†ì• ì.

1. í•¨ìˆ˜ ì¶”ì¶œí•˜ê¸°ë¥¼ ì ìš©í•œë‹¤.

```javascript
function renderPerson(outStream, person) {
  const result = [];
  result.push(`<p>${person.name}</p>`);
  result.push(renderPhoto(person.photo));
  // ì¶”ì¶œëœ í•¨ìˆ˜
  result.push(zznew(person.photo)); 
  return result.join("\n");
}

function photoDiv(p) {
  return [
    "<div>",
    zznew(p),
    "</div>",
  ].join("\");
}

function zznew(p) {
  return [
  `<p>ì œëª©: ${p.title}</p>`, 
    emitPhotoData(p),
    "</div>",
  ].join("\");
}
```

2. `emitPhotoData()` í•¨ìˆ˜ë¥¼ ì¸ë¼ì¸ í•œë‹¤.

```javascript
function zznew(p) {
  return [
    `<p>ì œëª©: ${p.title}</p>`,
    `<p>ìœ„ì¹˜: ${p.location}</p>`,
    `<p>ë‚ ì§œ: ${p.date.toDateString()}</p>`,
    "</div>",
  ].join("\");
}
```

3. í•¨ìˆ˜ ì´ë¦„ì„ ë°”ê¾¼ë‹¤.

```javascript
function renderPerson(outStream, person) {
  const result = [];
  result.push(`<p>${person.name}</p>`);
  result.push(renderPhoto(person.photo));
  result.push(emitPhotoData(person.photo)); 
  return result.join("\n");
}

function photoDiv(p) {
  return [
    "<div>",
    emitPhotoData(p),
    "</div>",
  ].join("\");
}

function emitPhotoData(p) {
  return [
    `<p>ì œëª©: ${p.title}</p>`,
    `<p>ìœ„ì¹˜: ${p.location}</p>`,
    `<p>ë‚ ì§œ: ${p.date.toDateString()}</p>`,
    "</div>",
  ].join("\");
}
```
