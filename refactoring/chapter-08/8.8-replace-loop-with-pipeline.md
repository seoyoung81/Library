# âœï¸ 8.8 ë°˜ë³µë¬¸ì„ íŒŒì´í”„ë¼ì¸ìœ¼ë¡œ ë°”ê¾¸ê¸° (Replace Loop with Pipeline)

ë¦¬íŒ©í„°ë§ ì „

```javascript
const names = [];
for (const i of input) {
  if (i.job === "programmer")
    names.push(i.name);
}
```

ë¦¬íŒ©í„°ë§ í›„

```javascript
const names = input
.filter(i => i.job === "programmer")
.map(i => i.name)
;
```

## ðŸ§· ë°°ê²½

ì»¬ë ‰ì…˜ íŒŒì´í”„ë¼ì¸ì„ ì´ìš©í•˜ë©´ ì²˜ë¦¬ ê³¼ì •ì„ ì¼ë ¨ì˜ ì—°ì‚°ìœ¼ë¡œ í‘œí˜„í•  ìˆ˜ ìžˆë‹¤.

ê°ì²´ ì»¬ë ‰ì…˜ì„ ìˆœíšŒí•  ë•Œ ë°˜ë³µë¬¸ì„ ì‚¬ìš©í•˜ë¼ê³  ë°°ì› ë‹¤. ëŒ€í‘œì ì¸ ì—°ì‚°ì€ `map`ê³¼ `filter`ë‹¤.

#### map

í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ ìž…ë ¥ ì»¬ë ‰ì…˜ì˜ ê° ì›ì†Œë¥¼ ë°˜í™˜

#### filter

í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ ìž…ë ¥ ì»¬ë ‰ì…˜ì„ í•„í„°ë§í•´ ë¶€ë¶„ì§‘í•©ì„ ë§Œë“ ë‹¤. ì´ ë¶€ë¶„ ì§‘í•©ì€ íŒŒì´í”„ë¼ì¸ì˜ ë‹¤ìŒ ë‹¨ê³„ë¥¼ ìœ„í•œ ì»¬ë ‰ì…˜ìœ¼ë¡œ ì“°ì¸ë‹¤.&#x20;

ë…¼ë¦¬ë¥¼ íŒŒì´í”„ë¼ì¸ìœ¼ë¡œ í‘œí˜„í•˜ë©´ ì´í•´í•˜ê¸° í›¨ì”¬ ì‰¬ì›Œì§„ë‹¤. ê°ì²´ê°€ íŒŒì´í”„ë¼ì¸ì„ ë”°ë¼ íë¥´ë©° ì–´ë–»ê²Œ ì²˜ë¦¬ë˜ëŠ”ì§€ë¥¼ ì½ì„ ìˆ˜ ìžˆê¸° ë•Œë¬¸ì´ë‹¤.

## ðŸ§· ì ˆì°¨

1\. ë°˜ë³µë¬¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì»¬ë ‰ì…˜ì„ ê°€ë¦¬í‚¤ëŠ” ë³€ìˆ˜ë¥¼ í•˜ë‚˜ ë§Œë“ ë‹¤.

2\. ë°˜ë³µë¬¸ì˜ ì²« ì¤„ë¶€í„° ì‹œìž‘í•´ì„œ ê°ê°ì˜ ë‹¨ìœ„ í–‰ìœ„ë¥¼ ì ì ˆí•œ ì»¬ë ‰ì…˜ íŒŒì´í”„ë¼ì¸ ì—°ì‚°ìœ¼ë¡œ ëŒ€ì²´í•œë‹¤. ì´ë•Œ ì»¬ë ‰ì…˜ íŒŒì´í”„ë¼ì¸ì—°ì‚°ì€ 1ì—ì„œ ë§Œë“  ë°˜ë³µë¬¸ ì»¬ë ‰ì…˜ ë³€ìˆ˜ì—ì„œ ì‹œìž‘í•˜ê³ , ì´ì „ ì—°ì‚°ì˜ ê²°ê³¼ë¥¼ ê¸°ì´ˆë¡œ ì—°ì‡„ì ìœ¼ë¡œ ìˆ˜í–‰í•œë‹¤.

3\. ë°˜ë³µë¬¸ì˜ ëª¨ë“  ë™ìž‘ì„ ëŒ€ì²´í–ˆë‹¤ë©´ ë°˜ëª©ë¬¸ ìžì²´ë¥¼ ì§€ìš´ë‹¤.

## ðŸ§· ì˜ˆì‹œ

ì˜ˆì‹œë¥¼ ìœ„í•œ ë°ì´í„°

```csv
office, country, telephone

Chicago, USA, +1 312 373 1000
Chicago, USA, +1 312 373 1000
Chicago, USA, +1 312 373 1000
... (ë°ì´í„°0
```

```javascript
function acquireData(input) {
  const linew = input.split =("\n");  // ì»¬ë ‰ì…˜
  let firstLine = true;
  const result = [];
  for (const line of lines) {  // ë°˜ë³µë¬¸
    if (firstLine) {
      firstLine = false;
      continue;
    }
    if (line.trim() === "") continue;
    const record = line.split(",");
    if (record[1].trim() === "India") {
      result.push({city: record[0].trim(), phone: recored[2].trime()});
    }
  }
  return result;
}
```

1. ë°˜ë³µë¬¸ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì»¬ë ‰ì…˜ì„ ê°€ë¦¬í‚¤ëŠ” ë³„ë„ ë³€ìˆ˜ë¥¼ ìƒˆë¡œ ë§Œë“¤ìž. ì´ ë³€ìˆ˜ë¥¼ ë£¨í”„ ë³€ìˆ˜ë¼ í•˜ê² ë‹¤.

```javascript
function acquireData(input) {
  const linew = input.split =("\n");  
  let firstLine = true;
  const result = [];
  // ë£¨í”„ ë³€ìˆ˜
  const loopItems = lines;
  for (const line of loopItems) {  
    if (firstLine) {
      firstLine = false;
      continue;
    }
    if (line.trim() === "") continue;
    const record = line.split(",");
    if (record[1].trim() === "India") {
      result.push({city: record[0].trim(), phone: recored[2].trime()});
    }
  }
  return result;
}
```

2. ë°˜ë³µë¬¸ì—ì„œ `slice()` ì—°ì‚°ì„ ë£¨í”„ ë³€ìˆ˜ì—ì„œ ìˆ˜í–‰í•˜ê³  ë°˜ë³µë¬¸ì—ì„œ if ë¬¸ì„ ì œê±°í•˜ìž.

```javascript
function acquireData(input) {
  const linew = input.split =("\n");  
  const result = [];
  const loopItems = lines
    .slice(1)
  for (const line of loopItems) {  
    if (line.trim() === "") continue;
    const record = line.split(",");
    if (record[1].trim() === "India") {
      result.push({city: record[0].trim(), phone: recored[2].trime()});
    }
  }
  return result;
}
```

3. `trime()` ì—°ì‚° ëŒ€ì‹  filter ì—°ì‚°ìœ¼ë¡œ ëŒ€ì²´í•œë‹¤.

```javascript
function acquireData(input) {
  const linew = input.split =("\n");  
  const result = [];
  const loopItems = lines
    .slice(1)
    .filter(line => line.trim() != "")
    ;
  for (const line of loopItems) {  
    const record = line.split(",");
    if (record[1].trim() === "India") {
      result.push({city: record[0].trim(), phone: recored[2].trime()});
    }
  }
  return result;
}
```

íŒŒì´í”„ë¼ì¸ì„ ì‚¬ìš©í•  ë•ŒëŠ” ë¬¸ìž¥ ì¢…ë£Œ ì„¸ë¯¸ì½œë¡ (;)ì„ ë³„ë„ ì¤„ì— ì ì–´ì£¼ë©´ íŽ¸í•˜ë‹¤.

4. `map()`ì—°ì‚°ê³¼ `filter()` ì—°ì‚°ì„ ì‚¬ìš©í•œë‹¤.

```javascript
function acquireData(input) {
  const linew = input.split =("\n");  
  const result = [];
  const loopItems = lines
    .slice(1)
    .filter(line => line.trim() != "")
    .map(line => line.split(","))
    .filter(recored => recored[1].trime() === "India")
    .map(record => ({city: record[0].trim(), phone: recored[2].trime()}))
    ;
  for (const line of loopItems) {  
    const record = line;
    result.push(line);
  }
  return result;
}
```

5. ê²°ê³¼ë¥¼ ëˆ„ì ë³€ìˆ˜ì— ì¶”ê°€í•œë‹¤.

```javascript
function acquireData(input) {
  const linew = input.split =("\n");  
  const result = [];
  const result = lines
    .slice(1)
    .filter(line => line.trim() != "")
    .map(line => line.split(","))
    .filter(recored => recored[1].trime() === "India")
    .map(record => ({city: record[0].trim(), phone: recored[2].trime()}))
    ;
  return result;
}
```
