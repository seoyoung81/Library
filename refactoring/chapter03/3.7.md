# ✏️ 3.7 뒤엉킨 변경

### 뒤엉킨 변경

단일 책임 원칙(Single Responsibility Priciple: SRP)이 제대로 지켜지지 않을 때 나타난다. 하나의 모듈이 서로 다른 이유들로 인해 여러 가지 방식으로 변경되는 일이 많을 때 발생한다.

🧷 데이터베이스가 추가될 때마다 함수 세 개를 바꿔야 하고, 금융 상품이 추가 될 때마다 또 다른 함수 네 개를 바꿔야 하는 모듈이 있다면 뒤엉킨 변경이 발생했다는 뜻이다.

📍**단계 쪼개기**: 데이터베이스에서 데이터를 가져와서 금융 상품 로직에서 처리해야 하는 일처럼 순차적으로 실행되는게 자연스러운 맥락인 경우, 다음 맥락에 필요한 데이터를 특정한 데이터 구조에 담아 전달하게 하는 식으로 단계를 분리한다.

📍**함수 옮기기**: 전체 처리 과정 곳곳에서 각기 다른 맥락의 함수를 호출하는 빈도가 높은 경우, 각 맥락에 해당하는 적당한 모듈들을 만들어서 관련된 함수들을 모은다.&#x20;

→ 처리 과정이 맥락별로 구분된다.

📍**함수 추출하기**: 여러 맥락의 일에 관여하는 함수가 있다면 **함수 옮기기**를 실행하기 전에 수행하자.

📍**클래스 추출하기**: 모듈이 클래스인 경우, 맥락별 분리 방법
