# âœï¸ 10.4 ì¡°ê±´ë¶€ ë¡œì§ì„ ë‹¤í˜•ì„±ìœ¼ë¡œ ë°”ê¾¸ê¸° (Replace Conditional with Polymorphism)

ë¦¬íŒ©í„°ë§ ì „

```javascript
switch (bird.type) {
  case 'ìœ ëŸ½ ì œë¹„':
    return "ë³´í†µì´ë‹¤";
  case 'ì•„í”„ë¦¬ì¹´ ì œë¹„':
    return (bird.numberOfCoconuts > 2) ? "ì§€ì³¤ë‹¤" : "ë³´í†µì´ë‹¤";
  case 'NorwegianBlueParrot':
    return (bird.voltage > 100) ? "ê·¸ì„ë ¸ë‹¤" : "ì˜ˆì˜ë‹¤";
  default:
    return "ì•Œ ìˆ˜ ì—†ë‹¤";
```

ë¦¬íŒ©í„°ë§ í›„

```javascript
class EuropeanSwallow {
  get plumage() {
    return "ë³´í†µì´ë‹¤";
  }
  ...
class AfricanSwallow {
  get plumage() {
     return (this.numberOfCoconuts > 2) ? "ì§€ì³¤ë‹¤" : "ë³´í†µì´ë‹¤";
  }
  ...
class NorwegianBlueParrot {
  get plumage() {
     return (this.voltage > 100) ? "ê·¸ì„ë ¸ë‹¤" : "ì˜ˆì˜ë‹¤";
  }
```

## ğŸ§· ë°°ê²½

ì¡°ê±´ë¬¸ì„ í´ë˜ìŠ¤ì™€ ë‹¤í˜•ì„±ì„ ì´ìš©í•˜ë©´ ë” í™•ì‹¤í•˜ê²Œ ë¶„ë¦¬í•  ìˆ˜ ìˆë‹¤.

ê¸°ë³¸ ë¡œì§ì„ ìŠˆí¼í´ë˜ìŠ¤ë¡œ ë„£ì–´ì„œ ì„œë¸Œí´ë˜ìŠ¤ì˜ ë³€í˜• ë™ì‘ì— ì‹ ê²½ ì“°ì§€ ì•Šê³  ê¸°ë³¸ì— ì§‘ì¤‘í•˜ê²Œ í•  ìˆ˜ ìˆê²Œ í•œë‹¤.&#x20;

## ğŸ§· ì ˆì°¨

1. ë‹¤í˜•ì  ë™ì‘ì„ í‘œí˜„í•˜ëŠ” í´ë˜ìŠ¤ë“¤ì´ ì•„ì§ ì—†ë‹¤ë©´ ë§Œë“¤ê³  íŒ©í„°ë¦¬ í•¨ìˆ˜ë„ í•¨ê»˜ ë§Œë“ ë‹¤.
2. í˜¸ì¶œí•˜ëŠ” ì½”ë“œì—ì„œ íŒ©í„°ë¦¬ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê²Œ í•œë‹¤.
3. ì¡°ê±´ë¶€ ë¡œì§ í•¨ìˆ˜ë¥¼ ìŠˆí¼í´ë˜ìŠ¤ë¡œ ì˜®ê¸´ë‹¤.
4. ì„œë¸Œí´ë˜ìŠ¤ ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•˜ì—¬, ìŠˆí¼í´ë˜ìŠ¤ì˜ ì¡°ê±´ë¶€ ë¡œì§ ë©”ì„œë“œë¥¼ ì˜¤ë²„ë¼ì´ë“œí•œë‹¤.
5. ê°™ì€ ë°©ì‹ìœ¼ë¡œ ê° ì¡°ê±´ì ˆì„ í•´ë‹¹ ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ ë©”ì„œë“œë¡œ êµ¬í˜„í•œë‹¤.
6. ìŠˆí¼í´ë˜ìŠ¤ ë©”ì„œë“œì—ëŠ” ê¸°ë³¸ ë™ì‘ ë¶€ë¶„ë§Œ ë‚¨ê¸´ë‹¤.

## ğŸ§· ì˜ˆì‹œ

### ğŸ§· ë¦¬íŒ©í„°ë§ ì „

```ts
function plumages(birds) {
  return new Map(birds.map((b) => [b.name, plumage(b)]));
}

function speeds(birds) {
  return new Map(birds.map((b) => [b.name, airSpeedVelocity(b)]));
}

function plumage(bird) {
  switch (bird.type) {
    case 'ìœ ëŸ½ ì œë¹„':
      return 'ë³´í†µì´ë‹¤';
    case 'ì•„í”„ë¦¬ì¹´ ì œë¹„':
      return bird.numberOfCoconuts > 2 ? 'ì§€ì³¤ë‹¤' : 'ë³´í†µì´ë‹¤';
    default:
      return 'ì•Œ ìˆ˜ ì—†ë‹¤';
  }
}

function airSpeedVelocity(bird) {
  switch (bird.type) {
    case 'ìœ ëŸ½ ì œë¹„':
      return 35;
    case 'ì•„í”„ë¦¬ì¹´ ì œë¹„':
      return 40 - 2 * bird.numberOfCoconuts;
    default:
      return null;
  }
}
```

### ğŸ§· ë¦¬íŒ©í„°ë§ í›„

```ts
function plumages(birds) {
  return new Map(birds
                .map((b) => createBird(b))
                .map((bird) => [bird.name, bird.plumage]));
}

function speeds(birds) {
  return new Map(birds
                .map((b) => createBird(b))
                .map((bird) => [bird.name, bird.airSpeedVelocity]));
}

class Bird {
  constructor(birdObject) {
    Object.assign(this, birdObject);
  }

  get plumage() {
    return 'ì•Œ ìˆ˜ ì—†ë‹¤';
  }

  get airSpeedVelocity() {
    return null;
  }
}

class EuropeanSwallow extends Bird {
  get plumage() {
    return 'ë³´í†µì´ë‹¤';
  }

  get airSpeedVelocity() {
    return 35;
  }
}

class AfricanSwallow extends Bird {
  get plumage() {
    return this.numberOfCoconuts > 2 ? 'ì§€ì³¤ë‹¤' : 'ë³´í†µì´ë‹¤';
  }

  get airSpeedVelocity() {
    return 40 - 2 * this.numberOfCoconuts;
  }
}

function createBird(bird) {
  switch (this.type) {
    case 'ìœ ëŸ½ ì œë¹„':
      return new EuropeanSwallow(bird);
    case 'ì•„í”„ë¦¬ì¹´ ì œë¹„':
      return new AfricanSwallow(bird);
    default:
      return new Bird(bird);
  }
}
```

